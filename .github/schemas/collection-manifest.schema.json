{
  "$schema": "https://json-schema.org/draft/2020-12/schema",
  "title": "AgentX Collection Manifest",
  "description": "Defines a distributable collection of AgentX artifacts (agents, skills, instructions, templates).",
  "type": "object",
  "required": ["name", "version", "description", "artifacts"],
  "properties": {
    "name": {
      "type": "string",
      "description": "Collection identifier (kebab-case).",
      "pattern": "^[a-z][a-z0-9-]*$"
    },
    "version": {
      "type": "string",
      "description": "Semantic version of the collection.",
      "pattern": "^\\d+\\.\\d+\\.\\d+$"
    },
    "description": {
      "type": "string",
      "description": "Human-readable description of what this collection provides.",
      "maxLength": 300
    },
    "maturity": {
      "type": "string",
      "enum": ["experimental", "preview", "stable", "deprecated"],
      "default": "preview"
    },
    "tags": {
      "type": "array",
      "items": { "type": "string" },
      "description": "Searchable tags for discovery."
    },
    "artifacts": {
      "type": "object",
      "description": "Artifact paths grouped by type.",
      "properties": {
        "agents": {
          "type": "array",
          "items": { "type": "string" },
          "description": "Relative paths to .agent.md files."
        },
        "instructions": {
          "type": "array",
          "items": { "type": "string" },
          "description": "Relative paths to .instructions.md files."
        },
        "skills": {
          "type": "array",
          "items": { "type": "string" },
          "description": "Relative paths to skill SKILL.md directories."
        },
        "templates": {
          "type": "array",
          "items": { "type": "string" },
          "description": "Relative paths to template .md files."
        },
        "workflows": {
          "type": "array",
          "items": { "type": "string" },
          "description": "Relative paths to .toml workflow files."
        },
        "scripts": {
          "type": "array",
          "items": { "type": "string" },
          "description": "Relative paths to executable scripts."
        }
      },
      "additionalProperties": false
    },
    "dependencies": {
      "type": "array",
      "items": {
        "type": "object",
        "required": ["name", "version"],
        "properties": {
          "name": { "type": "string" },
          "version": { "type": "string" }
        }
      },
      "description": "Other collections this collection depends on."
    }
  },
  "additionalProperties": false
}
